<!DOCTYPE html>

<html>
<head>
  <title>minecraft.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>minecraft.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <pre><code>minecraft-pi-promise <span class="hljs-number">0.5</span><span class="hljs-number">.0</span>
(c) <span class="hljs-number">2013</span> Zachary Bruggeman &lt;talkto@zachbruggeman.me&gt;
(c) <span class="hljs-number">2015</span> Lars Gregori &lt;lars.gregori@choas.net&gt;
minecraft-pi-promise is licensed under the MIT license.
</code></pre>
            </div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <h2 id="dependencies">Dependencies</h2>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> net    = <span class="hljs-built_in">require</span>(<span class="hljs-string">'net'</span>);
<span class="hljs-keyword">var</span> os     = <span class="hljs-built_in">require</span>(<span class="hljs-string">'os'</span>);
<span class="hljs-keyword">var</span> Blocks = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./blocks.json'</span>);
<span class="hljs-keyword">var</span> Colors = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./colors.json'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <h2 id="constructor">Constructor</h2>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Minecraft</span> (<span class="hljs-params">host, port, hello</span>) </span>{
    <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>;

    <span class="hljs-keyword">var</span> promise = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">resolve, reject</span>) </span>{

        self.connection = net.connect({port: port, host: host}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>When a new <code>Minecraft</code> is created, it connects to the port and host given.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Connected to server!'</span>);
            <span class="hljs-keyword">if</span> (hello == <span class="hljs-literal">undefined</span>) {
                self.chat(<span class="hljs-string">'Client '</span>  + os.hostname() + <span class="hljs-string">' connected.'</span>);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (hello.length &gt; <span class="hljs-number">0</span>) {
                self.chat(hello);
            }
            
            resolve(self);
        });

        self.connection.on(<span class="hljs-string">'end'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Server disconnected.'</span>);
        });

    });

    <span class="hljs-keyword">return</span> promise;
};</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p><code>Blocks</code> holds names of each block, tied to an item ID. This allows for an easier way to reference blocks.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Minecraft.prototype.blocks = Blocks;</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p><code>Colors</code> holds color data codes, which are used to create colored wool.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Minecraft.prototype.colors = Colors;</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>If you’re wanting to write your own API, make sure that your commands written end with a new line! Without it, the commands will not work.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Minecraft.prototype.send = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">command</span>) </span>{
    <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>;

    <span class="hljs-keyword">var</span> promise = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">resolve, reject</span>) </span>{
        self.connection.write(command + <span class="hljs-string">'\n'</span>);
        resolve();
    });

    <span class="hljs-keyword">return</span> promise;
};

Minecraft.prototype.sendReceive = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">command</span>) </span>{

    <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>;

    <span class="hljs-keyword">var</span> promise = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">resolve, reject</span>) </span>{
        self.send(command)
        .then(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            self.connection.on(<span class="hljs-string">'data'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>{ 
                resolve(data.toString());
            });            
        });
    });

    <span class="hljs-keyword">return</span> promise;
};

Minecraft.prototype.end = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.connection.destroy();
};</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <h2 id="commands">Commands</h2>

            </div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <h3 id="world-commands">World Commands</h3>
<p><code>client.getBlock(x, y, z)</code> – Returns the block ID at the selected coordinates.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Minecraft.prototype.getBlock = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">x, y, z</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.sendReceive(<span class="hljs-string">'world.getBlock('</span> + x + <span class="hljs-string">','</span> + y + <span class="hljs-string">','</span> + z + <span class="hljs-string">')'</span>);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p><code>client.getBlockWithData(x, y, z)</code> – Returns the block ID and data at the selected coordinates.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Minecraft.prototype.getBlockWithData = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">x, y, z</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.sendReceive(<span class="hljs-string">'world.getBlockWithData('</span> + x + <span class="hljs-string">','</span> + y + <span class="hljs-string">','</span> + z + <span class="hljs-string">')'</span>);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p><code>client.setBlock(x, y, z, id, [data])</code> – Places a block with the ID of <code>id</code> at the selected coordinates, plus data if it is appended. You can use <code>client.blocks[&#39;BLOCK_NAME&#39;]</code> instead of the actual ID.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Minecraft.prototype.setBlock = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">x, y, z, id, data</span>) </span>{
    <span class="hljs-keyword">var</span> command = data ? <span class="hljs-keyword">this</span>.send(<span class="hljs-string">'world.setBlock('</span> + x + <span class="hljs-string">','</span> + y + <span class="hljs-string">','</span> + z + <span class="hljs-string">','</span> + id + <span class="hljs-string">','</span> + data + <span class="hljs-string">')'</span>) : <span class="hljs-keyword">this</span>.send(<span class="hljs-string">'world.setBlock('</span> + x + <span class="hljs-string">','</span> + y + <span class="hljs-string">','</span> + z + <span class="hljs-string">','</span> + id + <span class="hljs-string">')'</span>);
    <span class="hljs-keyword">return</span> command;
};</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p><code>client.setBlocks(x1, y1, z1, x2, y2, z2, id, [data])</code> – Places a cuboid of blocks with the coordinate set using the specified id and data. You can use <code>client.blocks[&#39;BLOCK_NAME&#39;]</code> instead of the actual ID.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Minecraft.prototype.setBlocks = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">x1, y1, z1, x2, y2, z2, id, data</span>) </span>{
    <span class="hljs-keyword">var</span> command = data ? <span class="hljs-keyword">this</span>.send(<span class="hljs-string">'world.setBlocks('</span> + x1 + <span class="hljs-string">','</span> + y1 + <span class="hljs-string">','</span> + z1 + <span class="hljs-string">','</span> + x2 + <span class="hljs-string">','</span> + y2 + <span class="hljs-string">','</span> + z2 + <span class="hljs-string">','</span> + id + <span class="hljs-string">','</span> + data + <span class="hljs-string">')'</span>) : <span class="hljs-keyword">this</span>.send(<span class="hljs-string">'world.setBlocks('</span> + x1 + <span class="hljs-string">','</span> + y1 + <span class="hljs-string">','</span> + z1 + <span class="hljs-string">','</span> + x2 + <span class="hljs-string">','</span> + y2 + <span class="hljs-string">','</span> + z2 + <span class="hljs-string">','</span> + id + <span class="hljs-string">')'</span>);
    <span class="hljs-keyword">return</span> command;
};</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p><code>client.getHeight(x, z)</code> – Returns the Y coordinate of the last block that isn’t solid from the top-down in the coordinate pair.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Minecraft.prototype.getHeight = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">x, z</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.sendReceive(<span class="hljs-string">'world.getHeight('</span> + x + <span class="hljs-string">','</span> + z + <span class="hljs-string">')'</span>);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p><code>client.saveCheckpoint()</code> – Saves a checkpoint that can be used to restore the world.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Minecraft.prototype.saveCheckpoint = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.send(<span class="hljs-string">'world.checkpoint.save()'</span>);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p><code>client.restoreCheckpoint()</code> – Restores to the last checkpoint.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Minecraft.prototype.restoreCheckpoint = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.send(<span class="hljs-string">'world.checkpoint.restore()'</span>);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p><code>client.worldSetting(key, value)</code> – Sets a world property.</p>
<p>Values are boolean, 0 or 1. The current two keys are:</p>
<ul>
<li><code>world_immutable</code></li>
<li><code>nametags_visible</code></li>
</ul>

            </div>
            
            <div class="content"><div class='highlight'><pre>Minecraft.prototype.worldSetting = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key, value</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.send(<span class="hljs-string">'world.setting('</span> + key + <span class="hljs-string">','</span> + value + <span class="hljs-string">')'</span>);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p><code>client.getPlayerIds()</code> – Returns the entity IDs of the players online.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Minecraft.prototype.getPlayerIds = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.sendReceive(<span class="hljs-string">'world.getPlayerIds()'</span>);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p><code>client.chat(message)</code> – Displays a message in the chat.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Minecraft.prototype.chat = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">message</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.send(<span class="hljs-string">'chat.post('</span> + message + <span class="hljs-string">')'</span>);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <h3 id="camera-commands">Camera Commands</h3>
<p><code>client.setCameraMode(mode)</code> – Sets the player’s camera mode. Accepts <code>normal</code>, <code>thirdPerson</code> and <code>fixed</code>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Minecraft.prototype.setCameraMode = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">mode</span>) </span>{
    <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>;
    <span class="hljs-keyword">switch</span> (mode) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'normal'</span>:
        <span class="hljs-keyword">return</span> self.send(<span class="hljs-string">'camera.mode.setNormal()'</span>);
        <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">'thirdPerson'</span>:
        <span class="hljs-keyword">return</span> self.send(<span class="hljs-string">'camera.mode.setThirdPerson()'</span>);
        <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">'fixed'</span>:
        <span class="hljs-keyword">return</span> self.send(<span class="hljs-string">'camera.mode.setFixed()'</span>);
        <span class="hljs-keyword">break</span>;
    };
};</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p><code>client.setCameraPosition(x, y, z)</code> – Sets the camera’s position at the selected coordinates.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Minecraft.prototype.setCameraPosition = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">x, y, z</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.send(<span class="hljs-string">'camera.mode.setPos('</span> + x + <span class="hljs-string">','</span> + y + <span class="hljs-string">','</span> + z + <span class="hljs-string">')'</span>);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <h3 id="player-commands">Player commands</h3>
<p><code>client.getTile()</code> – Gets the player’s coordinates to the nearest block.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Minecraft.prototype.getTile = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.sendReceive(<span class="hljs-string">'player.getTile()'</span>);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p><code>client.setTile(x, y, z)</code>– Sets the player’s coordinates to the specified block.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Minecraft.prototype.setTile = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">x, y, z</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.send(<span class="hljs-string">'player.setTile('</span> + x + <span class="hljs-string">','</span> + y + <span class="hljs-string">','</span> + z + <span class="hljs-string">')'</span>);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <p><code>client.getPos()</code> – Gets the precise position of the player.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Minecraft.prototype.getPos = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.sendReceive(<span class="hljs-string">'player.getPos()'</span>);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p><code>client.setPos(x, y, z)</code> – Sets the position of the player precisely.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Minecraft.prototype.setPos = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">x, y, z</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.send(<span class="hljs-string">'player.setPos('</span> + x + <span class="hljs-string">','</span> + y + <span class="hljs-string">','</span> + z + <span class="hljs-string">')'</span>);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p><code>client.playerSetting(key, value)</code> – Sets a player property.</p>
<p>Values are boolean, 0 or 1. The current key available is:</p>
<ul>
<li><code>autojump</code></li>
</ul>

            </div>
            
            <div class="content"><div class='highlight'><pre>Minecraft.prototype.playerSetting = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key, value</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.send(<span class="hljs-string">'player.setting('</span> + key + <span class="hljs-string">','</span> + value + <span class="hljs-string">')'</span>);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <h3 id="event-commands">Event commands</h3>
<p>These are in need of proper documentation. If you know about these, please send a pull request! :-)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Minecraft.prototype.eventsBlockHits = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.sendReceive(<span class="hljs-string">'events.block.hits()'</span>);
};

Minecraft.prototype.eventsClear = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.send(<span class="hljs-string">'events.clear()'</span>);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <h2 id="exports">Exports</h2>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-built_in">module</span>.exports = Minecraft;</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
